os: osx
language: objective-c
osx_image: xcode10.2

env: 
  - JOB=LINT
  - JOB=TEST
  - JOB=POD_LINT PLATFORM=ios
  - JOB=POD_LINT PLATFORM=macos
  - JOB=POD_LINT PLATFORM=watchos

before_script:
  - mkdir -p build
  - swift --version

script:
  - if [ "$JOB" == "LINT" ]; then Scripts/ci_phases/01_lint_project.sh; fi
  - if [ "$JOB" == "TEST" ]; then travis_retry Scripts/ci_phases/02_run_tests_ios.sh; fi
  - if [ "$JOB" == "POD_LINT" ]; then bundle exec pod lib lint --platforms=$PLATFORM --sources=https://cdn.cocoapods.org/ --no-subspecs ; fi
